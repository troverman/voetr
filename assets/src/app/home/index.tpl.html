<style>

.upVote:hover{
  color:white;
  background-color:#2ab996;
}
.downVote:hover{
  color:white;
  background-color:red;
}
.upVoted{
  color:white;
  background-color:#2ab996;
}
.downVoted{
  color:white;
  background-color:red;
}
.upVoted:focus{
  color:white;
  background-color:#2ab996;
}
.downVoted:focus{
  color:white;
  background-color:red;
}

</style>

<div id="wrapper">

  <!--if logged in-->
  <div ng-show="currentUser">
    <div style="height:50px"></div>

    

    <div class="container">
      <div class="col-md-4">
        <img class="avatar" style="margin-top:0em" src="{{currentUser.avatarUrl}}"/>
        <h2><a href="/member/{{currentUser.username}}">{{currentUser.username}}</a></h2>
        <p>representatives - {{representatives.length}}</p>
        <p>constituents - {{constituents.length}}</p>
      </div>
      <div class="col-md-8">

        <div ng-show="!currentUser.isVerified">
          <!--<h4>upload id</h4>
          <p>by providing official identification, government officials have more of an inventive to respond and your voice carries more weight.</p>-->
          <h4>enter location</h4>
          <h4>select representatives</h4>
          <h4>become verified</h4>
          <button ng-click="getLatLng()" class="btn btn-default">get representatives</button>
          <div ng-repeat="representative in officialRepresentatives">
            <!--<img class="avatar" style="margin-top:0em" src="{{representative.avatarUrl}}"/>-->
            <h4><a href="member/{{representative.username}}">{{representative.username}}</a></h4>
          </div>
        </div>


        <h3>recommended votes</h3>
        <div ng-repeat="vote in votes">
          <h4>
            {{vote.voteCount}}
            <button ng-class="{'upVoted': vote.class=='upVote'}" class="btn btn-default upVote" ng-click="createVote(1, vote)"><i class="fa fa-caret-up"></i></button>
            <button ng-class="{'downVoted': vote.class=='downVote'}" class="btn btn-default downVote" ng-click="createVote(-1, vote)"><i class="fa fa-caret-down"></i></button>
            <a href="/vote/{{vote.id}}">{{vote.title}}</a>
          </h4>
          <br><br>
        </div>

        <h3>my constituents</h3>
        <div ng-repeat="constituent in constituents">
          <!--<img class="avatar" style="margin-top:0em;" src="{{constituent.constituent.avatarUrl}}"/>-->
          <h4><a href="/member/{{constituent.constituent.username}}">{{constituent.constituent.username}}</a></h4>
        </div>

        <h3>my representatives</h3>
        <div ng-repeat="representative in representatives">
          <!--<img class="avatar" style="margin-top:0em;" src="{{representative.representative.avatarUrl}}"/>-->
          <h4><a href="/member/{{representative.representative.username}}">{{representative.representative.username}}</a></h4>
        </div>

        <div ng-repeat="vote in userVotes">
          {{vote.voteString}} | {{vote.vote.title}} | <a href="/bill/{{vote.bill.id}}/{{vote.bill.title}}">{{vote.bill.title}}</a>
        </div>
      </div>
    </div>
    <div style="height:50px;"></div>
  </div>
  <!--/if logged in-->

	<!--if not logged in-->
  <div ng-show="!currentUser">
    <div ng-include="'intro/index.tpl.html'"></div>

    <!--
    <div class="imageContainer">
      <video class='flexible' autoplay="autoplay" muted="muted" preload="auto" loop="loop"><source src="https://s3-us-west-2.amazonaws.com/voetr/washington.mp4" type="video/mp4"></video>
      <div class="imageContainerDiv">  
        <h1>build empowerment, change consensus</h1>
      </div>
    </div>
    -->

    <div id="about">
      <div id="information">
        <div class="container">
          <i style="font-size:256px;" class="fa fa-bullhorn"></i>
          <hr>
          <h4>be part of the movement</h4>
          <!--<p>directly impact the political landscape, with input on policy your voice counts</p>-->

          <p>directly impact the creation of policy</p>
          <p>with direct input on policy your voice counts</p>
          <p>tell your reps how you feel about any piece of legislation</p>
          <p>continual open ballot elections - represent others at anytime</p>

          <hr>
          <a href="/about" class="btn btn-default">learn more</a>
          <div style="height:100px;"></div>
          <div style="height:100px;"></div>
          <div style="height:100px;"></div>
        </div>
      </div>

      <div id="register">
        <div ng-include="'register/index.tpl.html'">
        </div>
      </div>


      <div id="bills">
        <div class="container">
          
          <h2><a href="/bills">{{billCount}} bills</a></h2><hr>

          <div class="container">
            <div class='md-padding' layout="row" layout-align="center" layout-wrap>
              <md-card flex="30" ng-repeat="bill in bills">
                <md-card-title>
                  <md-card-title-text>
                    <a href="/bill/{{bill.id}}/{{bill.title.replace(' ','-')}}">
                      <span class="">{{bill.title}}</span>
                    </a>
                  </md-card-title-text>
                </md-card-title>
              </md-card>
            </div>
          </div>

          <div ng-click="loadMoreBills()" style="text-align:center">
            <button class="btn btn-default col-xs-10 col-xs-offset-1">more</button>
          </div>
        </div>
      </div>

      <div id="committees">
        <div class="container">

          <h2><a href="/committees">{{committeeCount}} committees</a></h2><hr>

          <div class="container">
            <div class='md-padding' layout="row" layout-align="center" layout-wrap>
              <md-card flex="15" ng-repeat="committee in committees">
                <md-card-title>
                  <md-card-title-text>
                    <a href="/committee/{{committee.urlTitle}}">
                      <span class="">{{committee.title}}</span>
                    </a>
                  </md-card-title-text>
                </md-card-title>
              </md-card>
            </div>
          </div>

          <div ng-click="loadMoreCommittees()" style="text-align:center">
            <button class="btn btn-default col-xs-10 col-xs-offset-1">more</button>
          </div>

        </div>
      </div>

      <div id="members">
        <div class="container">
          <!--<p>local counties / search</p>-->
          <h2>{{userCount}} members</h2><hr>
          <div class='md-padding' layout="row" layout-align="center" layout-wrap>
            <md-card flex="20" ng-repeat="user in users">
              <a href="/member/{{user.username}}">
                <img ng-src="{{user.avatarUrl}}" class="md-card-image" alt="{{user.username}}">
              </a>
              <md-card-title>
                <md-card-title-text>
                  <a href="/member/{{user.username}}">
                    <span class="">{{user.username}}</span>
                  </a>
                </md-card-title-text>
              </md-card-title>
            </md-card>
          </div>

          <div ng-click="loadMoreMembers()" style="text-align:center">
            <button class="btn btn-default col-xs-10 col-xs-offset-1">more</button>
          </div>
        </div>

      </div>

    </div>
  </div>
  <!--/if not logged in-->
  <div ng-include="'footer/index.tpl.html'"></div>
</div>